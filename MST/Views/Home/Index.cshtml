@{
    ViewData["Title"] = "Home";
}
<link href="~/css/home.css" rel="stylesheet" asp-append-version="true" />
<script src="~/js/animation.js" asp-append-version="true"></script>

<!-- Slide Section -->
<section class="hero-section">
    <div class="hero-slider">
        <div class="hero-slide animate" style="background-image: url('../images/test2.jpg')">
        </div>
        <div class="hero-slide" style="background-image: url('../images/test3.jpg')">
        </div>
        <div class="hero-slide" style="background-image: url('../images/test4.jpg')">
        </div>
        <!-- Duplicate of the first slide -->
        <div class="hero-slide" style="background-image: url('../images/test2.jpg')"></div>
    </div>
    <!-- Navigation Arrows -->
    <div class="hero-nav hero-prev">&#10094;</div>
    <div class="hero-nav hero-next">&#10095;</div>
    <div class="hero-indicators">
        <span class="indicator" data-slide="0"></span>
        <span class="indicator" data-slide="1"></span>
        <span class="indicator" data-slide="2"></span>
    </div>
</section>
<!-- About MST Company Section -->
<section class="about-section py-5">
    <div class="container animate">
        <div class="row align-items-center animate">
            <!-- Left Text Column -->
            <div class="col-lg-6 mb-4 mb-lg-0 animate">
                <h5 class="fw-bold mb-3 animate">WHO WE ARE</h5>
                <blockquote class="about-quote animate">
                    “When we focus on mutual success, everyone wins.”
                </blockquote>
                <p class="animate">
                    At MST Company, we focus on mutual success. Our flexibility to mobilize the right people ensures unique solutions,
                    while our commitment to innovation delivers tangible value to your projects. Collaboration and expertise drive
                    every project we undertake.
                </p>
                <p class="animate">
                    Whether in buildings, civil infrastructure, or industrial projects, MST Company is a trusted full-service partner
                    with a skilled network of professionals ready to deliver excellence across all markets.
                </p>
                <p class="animate">
                    From advanced construction technologies to sustainable solutions, MST Company leads with over a decade of proven
                    experience helping clients build long-lasting legacies.
                </p>

                <!-- About Us Button -->
                <a href="/Home/AboutUs" class="btn btn-about mt-3 animate">About Us</a>
            </div>

            <!-- Right Stats Column -->
            <div class="col-lg-6 animate">
                <div class="row text-center animate">
                    <div class="col-4 mb-3 animate">
                        <div class="stat-box p-4 animate">
                            <h3 class="fw-bold animate">10</h3>
                            <p class="animate">Years in Operation</p>
                        </div>
                    </div>
                    <div class="col-4 mb-3 animate">
                        <div class="stat-box p-4 animate">
                            <h3 class="fw-bold animate">$1B+</h3>
                            <p class="animate">Annual Project Volume</p>
                        </div>
                    </div>
                    <div class="col-4 mb-3 animate">
                        <div class="stat-box p-4 animate">
                            <h3 class="fw-bold animate">#25</h3>
                            <p class="animate">Industry Ranking</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- What We Do Section -->
<section class="what-we-do-section py-5">
    <div class="container animate">
        <!-- Main Title -->
        <span class="section-label text-center d-block fw-bold text-uppercase mb-2 animate">WHAT WE DO</span>
        <h2 class="fw-bold text-center mb-5 animate">Our Expertise in Construction</h2>

        <div class="row align-items-center animate">
            <!-- Left Image Column -->
            <div class="col-lg-6 mb-4 mb-lg-0 animate">
                <div class="image-options mb-3 text-center animate">
                    <button class="option-btn active animate"
                            data-img="images/test2.jpg"
                            data-title="Innovative Solutions for Modern Construction"
                            data-text="MST Company delivers tailored construction and engineering services for buildings of all types, including residential, commercial, and institutional projects. Our team combines local expertise with global knowledge to provide efficient, safe, and sustainable solutions. We focus on innovation, precision, and reliability to ensure every project meets client expectations and exceeds industry standards.">
                        Buildings
                    </button>
                    <button class="option-btn animate"
                            data-img="images/test3.jpg"
                            data-title="Building Strong Foundations for the Future"
                            data-text="Our civil infrastructure projects encompass roads, bridges, highways, and public works, designed to enhance connectivity and improve communities. MST Company applies rigorous planning, advanced engineering, and sustainable construction practices to ensure every project is durable, safe, and environmentally responsible. We focus on long-term performance while meeting budgets and project timelines with precision and professionalism.">
                        Civil Infrastructure
                    </button>
                    <button class="option-btn animate"
                            data-img="images/test4.jpg"
                            data-title="Powering Industrial Growth Through Engineering Excellence"
                            data-text="MST Company specializes in heavy industrial construction, including factories, warehouses, and energy facilities. We provide end-to-end solutions from design, planning, and structural engineering to construction management. Our team ensures compliance with safety standards, delivers innovative solutions, and applies global best practices to achieve efficiency, reliability, and quality outcomes for complex industrial projects.">
                        Heavy Industrial
                    </button>
                    <button class="option-btn animate"
                            data-img="images/test5.jpg"
                            data-title="Custom-Built Solutions for Unique Projects"
                            data-text="For specialized projects that require unique solutions, MST Company delivers creativity, innovation, and expertise. From custom facilities to highly technical construction challenges, we tailor every project to meet client-specific requirements. Our team combines advanced engineering, thorough planning, and hands-on project management to ensure timely delivery, exceptional quality, and safe, sustainable outcomes for even the most complex and demanding construction projects.">
                        Special Projects
                    </button>
                </div>
                <img id="what-we-do-img" src="images/test2.jpg" alt="MST Company Projects" class="img-fluid rounded animate">
            </div>

            <!-- Right Text Column -->
            <div class="col-lg-6 animate">
                <h2 id="what-we-do-title" class="fw-bold mb-3 animate">Innovative Solutions for Modern Construction</h2>
                <p id="what-we-do-text" class="text-muted mb-4 animate">
                    MST Company delivers tailored construction and engineering services for buildings of all types, including residential, commercial, and institutional projects. Our team combines local expertise with global knowledge to provide efficient, safe, and sustainable solutions. We focus on innovation, precision, and reliability to ensure every project meets client expectations and exceeds industry standards.
                </p>
                <a href="#" class="learn-more animate">LEARN MORE</a>
            </div>
        </div>
    </div>
</section>


<!-- What We Build Section -->
<section class="what-we-build-section py-5">
    <div class="container animate">
        <!-- Main Title -->
        <h2 class="fw-bold text-center mb-5 animate">What We Build</h2>
        <div class="row g-4 align-items-center animate">
            <!-- Left Image Column -->
            <div class="col-lg-6 animate">
                <div class="build-image-wrapper position-relative animate">
                    <img src="~/images/test3.jpg" alt="MST Construction Project" class="img-fluid rounded shadow-lg animate">
                    <div class="build-image-overlay animate">
                        <h3 class="fw-bold text-white animate">Building the Future</h3>
                    </div>
                </div>
            </div>
            <!-- Right Text Column -->
            <div class="col-lg-6 animate">
                <span class="section-label animate">OUR WORK</span>
                <h2 class="fw-bold mb-3 animate">Structures That Define Progress</h2>
                <p class="text-muted mb-4 animate">
                    MST Company delivers construction excellence through innovation, precision, and commitment.
                    Our portfolio includes residential towers, commercial complexes, industrial facilities, and
                    public infrastructure projects that shape the landscape of Cambodia and beyond.
                </p>
                <ul class="list-unstyled mb-4 animate">
                    <li class="animate"><i class="fas fa-check-circle text-primary me-2 animate"></i> Modern Residential & Commercial Buildings</li>
                    <li class="animate"><i class="fas fa-check-circle text-primary me-2 animate"></i> Civil & Infrastructure Engineering</li>
                    <li class="animate"><i class="fas fa-check-circle text-primary me-2 animate"></i> Industrial & Energy Facilities</li>
                    <li class="animate"><i class="fas fa-check-circle text-primary me-2 animate"></i> Sustainable & Smart Construction</li>
                </ul>
                <a href="#" class="learn-more animate">DISCOVER OUR PROJECTS</a>
            </div>
        </div>
    </div>
</section>

<!-- Careers Section with Video -->
<section class="careers-section py-5">
    <div class="container animate">
        <div class="row align-items-center mb-5 animate">
            <div class="col-lg-6 animate">
                <h2 class="fw-bold animate">Careers at MST Company</h2>
                <p class="text-muted animate">Join a team that builds meaningful projects and grows with industry-leading training, benefits, and opportunities.</p>
                <p class="text-muted animate">Watch our short company overview below to learn what it's like to work with us.</p>
            </div>
            <div class="col-lg-6 animate">
                <div class="video-card position-relative rounded shadow-sm overflow-hidden animate">
                    <video id="careers-video" class="w-100 animate" controls poster="~/images/careers-poster.jpg">
                        <source src="~/videos/video1.mp4" type="video/mp4">
                        Your browser does not support the video tag. Watch on
                        <a href="https://www.youtube.com/watch?v=iYocA3_IV0Y&t=38s" target="_blank" rel="noopener" class="animate">YouTube</a>.
                    </video>
                    <div class="video-caption text-center p-2 small text-muted animate">
                        If you cannot play the video, download the <a href="~/videos/video1.mp4" download class="animate">MP4</a>.
                    </div>
                </div>
            </div>
        </div>
        <!-- Open positions list -->
        <div id="open-positions" class="open-positions animate">
            <h2 class="fw-bold mb-4 animate">Open Positions</h2>
            <div class="row g-3 animate">
                <div class="col-md-6 col-lg-4 animate">
                    <div class="job-card p-3 rounded border h-100 d-flex flex-column animate">
                        <div class="d-flex align-items-start mb-2 animate">
                            <div class="me-3 animate"><i class="fas fa-building fa-2x text-primary animate"></i></div>
                            <div class="animate">
                                <h5 class="mb-0 animate">Site Engineer</h5>
                                <small class="text-muted animate">Phnom Penh • Full-time</small>
                            </div>
                        </div>
                        <p class="text-muted small flex-grow-1 animate">Lead on-site coordination, ensure QA/QC, and liaise with subcontractors. 5+ years experience in civil/structural projects preferred.</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4 animate">
                    <div class="job-card p-3 rounded border h-100 d-flex flex-column animate">
                        <div class="d-flex align-items-start mb-2 animate">
                            <div class="me-3 animate"><i class="fas fa-user-tie fa-2x text-primary animate"></i></div>
                            <div class="animate">
                                <h5 class="mb-0 animate">Project Manager</h5>
                                <small class="text-muted animate">Sihanoukville • Full-time</small>
                            </div>
                        </div>
                        <p class="text-muted small flex-grow-1 animate">Manage multi-discipline teams, deliver projects on time and budget, and report to senior leadership.</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4 animate">
                    <div class="job-card p-3 rounded border h-100 d-flex flex-column animate">
                        <div class="d-flex align-items-start mb-2 animate">
                            <div class="me-3 animate"><i class="fas fa-tools fa-2x text-primary animate"></i></div>
                            <div class="animate">
                                <h5 class="mb-0 animate">Mechanical Technician</h5>
                                <small class="text-muted animate">Kampot • Contract</small>
                            </div>
                        </div>
                        <p class="text-muted small flex-grow-1 animate">Install and maintain mechanical systems on industrial jobsites. Technical diploma required.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Our Owner Section -->
<section class="our-owner-section py-5">
    <div class="container animate">
        <h1 class="fw-bold text-center mb-5 animate">Our Owner</h1>
        <div class="row align-items-center justify-content-center flex-lg-row-reverse animate">
            <!-- Owner Image -->
            <div class="col-lg-5 mb-4 mb-lg-0 text-center animate">
                <div class="owner-photo-wrapper mx-auto shadow animate">
                    <img src="~/images/test2.jpg"
                         alt="Company Owner"
                         class="img-fluid owner-photo rounded animate"
                         style="width: 300px; height: 400px; object-fit: cover; border-radius: 10px;">
                </div>
            </div>
            <!-- Owner Information -->
            <div class="col-lg-6 text-center text-lg-start animate">
                <h2 class="fw-bold mb-2 animate">Mr. John Doe</h2>
                <h5 class="text-primary mb-3 animate">President & General Manager</h5>
                <p class="text-muted mb-3 animate">
                    Mr. John Doe is the President and General Manager of MST Company. With over two decades of experience in
                    construction management and strategic leadership, he has built MST into one of the most respected companies
                    in the industry.
                </p>
                <p class="text-muted animate">
                    His commitment to quality, safety, and client satisfaction drives the company’s mission to deliver excellence
                    in every project across Cambodia.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Safety: A Way of Life Section -->
<section class="safety-section py-5 bg-light">
    <div class="container animate">
        <h1 class="fw-bold text-center mb-5 animate">Safety: A Way of Life</h1>
        <div class="row align-items-center safety-row animate">
            <!-- Safety Image -->
            <div class="col-lg-6 mb-4 mb-lg-0 text-center animate">
                <img src="~/images/test2.jpg"
                     alt="Safety"
                     class="img-fluid rounded shadow safety-img animate">
            </div>
            <!-- Safety Content -->
            <div class="col-lg-6 text-center text-lg-start animate">
                <h2 class="fw-bold mb-3 animate">Our Commitment to Safety</h2>
                <p class="text-muted mb-3 animate">
                    At MST Company, safety is not just a policy—it’s a way of life. Every project, every task, and every team member
                    follows strict safety protocols to ensure the well-being of our employees, clients, and communities.
                </p>
                <p class="text-muted mb-4 animate">
                    We believe that a safe workplace drives efficiency, quality, and sustainability. Our safety-first culture
                    ensures that everyone goes home safely at the end of the day.
                </p>
                <a href="#" class="learn-more animate">Learn More About Safety</a>
            </div>
        </div>
    </div>
</section>

<!-- Featured Projects Section -->
<section class="featured-section py-5">
    <div class="container animate">
        <h2 class="fw-bold mb-4 text-center animate">Our Featured Engineering Projects</h2>
        <div class="property-row-wrapper position-relative animate">
            <div class="row g-4 property-row flex-nowrap overflow-auto animate">
                <div class="col-md-4 ">
                    <div class="property-card ">
                        <img src="~/images/test2.jpg" alt="Project 1" class="">
                        <div class="p-3 ">
                            <h5 class="fw-bold ">Urban Infrastructure Development</h5>
                            <p class="text-muted ">Phnom Penh • Completed 2024</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 ">
                    <div class="property-card ">
                        <img src="~/images/test2.jpg" alt="Project 2" class="">
                        <div class="p-3 ">
                            <h5 class="fw-bold ">Highway Expansion Project</h5>
                            <p class="text-muted ">Siem Reap • Ongoing</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 ">
                    <div class="property-card ">
                        <img src="~/images/test2.jpg" alt="Project 3" class="">
                        <div class="p-3 ">
                            <h5 class="fw-bold ">Industrial Plant Construction</h5>
                            <p class="text-muted ">Sihanoukville • Completed 2023</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 ">
                    <div class="property-card ">
                        <img src="~/images/test2.jpg" alt="Project 4" class="">
                        <div class="p-3 ">
                            <h5 class="fw-bold ">Bridge Engineering Project</h5>
                            <p class="text-muted ">Kampot • Under Construction</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 ">
                    <div class="property-card ">
                        <img src="~/images/test2.jpg" alt="Project 5" class="">
                        <div class="p-3 ">
                            <h5 class="fw-bold ">Commercial Building Project</h5>
                            <p class="text-muted ">Battambang • Design Stage</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 ">
                    <div class="property-card ">
                        <img src="~/images/test2.jpg" alt="Project 6" class="">
                        <div class="p-3 ">
                            <h5 class="fw-bold ">Hydropower Plant Project</h5>
                            <p class="text-muted ">Stung Treng • Completed 2022</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Navigation Arrows -->
            <div class="scroll-nav scroll-prev animate"><i class="fas fa-angle-double-left animate"></i></div>
            <div class="scroll-nav scroll-next animate"><i class="fas fa-angle-double-right animate"></i></div>
        </div>
    </div>
</section>
@await Html.PartialAsync("_Buttom")
<script>
    // Featured Projects Scrolling
    const propertyRow = document.querySelector('.property-row');
    const scrollPrev = document.querySelector('.scroll-prev');
    const scrollNext = document.querySelector('.scroll-next');

    function updateScrollNav() {
        const maxScroll = propertyRow.scrollWidth - propertyRow.clientWidth;
        scrollPrev.style.display = propertyRow.scrollLeft > 0 ? 'flex' : 'none';
        scrollNext.style.display = propertyRow.scrollLeft < maxScroll ? 'flex' : 'none';
    }

    scrollNext.addEventListener('click', () => {
        propertyRow.scrollBy({ left: 300, behavior: 'smooth' });
        setTimeout(updateScrollNav, 600);
    });

    scrollPrev.addEventListener('click', () => {
        propertyRow.scrollBy({ left: -300, behavior: 'smooth' });
        setTimeout(updateScrollNav, 600);
    });

    propertyRow.addEventListener('scroll', updateScrollNav);
    updateScrollNav();

    // Hero slider
    const slider = document.querySelector('.hero-slider');
    const slides = document.querySelectorAll('.hero-slide');
    const indicators = document.querySelectorAll('.hero-indicators .indicator');
    const totalSlides = indicators.length;
    let currentSlide = 0;
    let isTransitioning = false;

    function showSlide(index, direction = 'right') {
        if (isTransitioning) return;
        isTransitioning = true;
        let displayIndex = index % totalSlides;
        if (displayIndex < 0) displayIndex += totalSlides;
        if (index === -1) {
            slider.style.transition = 'none';
            slider.style.transform = `translateX(-${totalSlides * 100}%)`;
            currentSlide = totalSlides;
            requestAnimationFrame(() => {
                slider.style.transition = 'transform 0.5s ease';
                currentSlide = totalSlides - 1;
                slider.style.transform = `translateX(-${currentSlide * 100}%)`;
                updateIndicators();
                setTimeout(() => {
                    isTransitioning = false;
                }, 500);
            });
            return;
        }
        if (index === totalSlides) {
            slider.style.transition = 'transform 0.5s ease';
            slider.style.transform = `translateX(-${totalSlides * 100}%)`;
            setTimeout(() => {
                slider.style.transition = 'none';
                currentSlide = 0;
                slider.style.transform = `translateX(0%)`;
                updateIndicators();
                requestAnimationFrame(() => {
                    slider.style.transition = 'transform 0.5s ease';
                    isTransitioning = false;
                });
            }, 500);
            return;
        }
        currentSlide = index;
        slider.style.transition = 'transform 0.5s ease';
        slider.style.transform = `translateX(-${currentSlide * 100}%)`;
        updateIndicators();
        setTimeout(() => {
            isTransitioning = false;
        }, 500);
    }

    function updateIndicators() {
        indicators.forEach((ind, i) => {
            ind.classList.toggle('active', i === (currentSlide % totalSlides));
        });
    }

    document.querySelector('.hero-prev').addEventListener('click', () => {
        showSlide(currentSlide - 1, 'left');
    });

    document.querySelector('.hero-next').addEventListener('click', () => {
        showSlide(currentSlide + 1, 'right');
    });

    indicators.forEach((ind, i) => {
        ind.addEventListener('click', () => {
            const direction = i > currentSlide ? 'right' : 'left';
            showSlide(i, direction);
        });
    });

    setInterval(() => {
        showSlide(currentSlide + 1, 'right');
    }, 5000);

    showSlide(0);

    // Preload images
    const images = ['../images/test2.jpg', '../images/test3.jpg', '../images/test4.jpg'];
    images.forEach(src => {
        const img = new Image();
        img.src = src;
    });

    // What we do
    document.querySelectorAll(".option-btn").forEach(button => {
        button.addEventListener("click", () => {
            // Remove active state
            document.querySelectorAll(".option-btn").forEach(btn => btn.classList.remove("active"));
            button.classList.add("active");

            // Update image
            const img = document.getElementById("what-we-do-img");
            img.src = button.getAttribute("data-img");

            // Update title and text
            const title = document.getElementById("what-we-do-title");
            const text = document.getElementById("what-we-do-text");
            title.textContent = button.getAttribute("data-title");
            text.textContent = button.getAttribute("data-text");
        });
    });

    // Video handling
    (function(){
        const video = document.getElementById('careers-video');
        const overlay = document.querySelector('.video-overlay');
        const btnPlay = document.getElementById('btn-play');
        const downloadLink = document.getElementById('download-video');

        // Play button behavior: open inline playback (muted to allow autoplay on some browsers)
        btnPlay.addEventListener('click', () => {
            // unhide controls and play
            video.muted = false;
            video.controls = true;
            video.play().catch(() => { /* ignore */ });
            overlay.style.display = 'none';
        });

        // If user clicks the poster area, also play
        video.addEventListener('click', () => {
            if (video.paused) {
                video.play();
            } else {
                video.pause();
            }
        });

        // When the video ends, show overlay again
        video.addEventListener('ended', () => {
            overlay.style.display = 'flex';
            video.currentTime = 0;
            video.controls = false;
        });

        // Apply button fills position into the form
        document.querySelectorAll('.btn-apply').forEach(btn => {
            btn.addEventListener('click', () => {
                const job = btn.dataset.job || '';
                document.getElementById('app-position').value = job;
                window.location.hash = '#apply-form';
                document.getElementById('app-name').focus();
            });
        });

        // Simple client-side validation - keep server-side required
        const form = document.getElementById('form-apply');
        form.addEventListener('submit', (e) => {
            if (!form.checkValidity()) {
                e.preventDefault();
                e.stopPropagation();
            } else {
                e.preventDefault();
                // TODO: replace with real upload / API call
                alert('Thanks — your application has been received (demo).');
                form.reset();
            }
            form.classList.add('was-validated');
        });
    })();
</script>